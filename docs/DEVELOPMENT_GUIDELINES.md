# Development Guidelines

このドキュメントは開発時の指針と注意事項をまとめたものです。

## コーディングスタイル

### コメントの書き方

- **Whyコメントは必要な箇所のみ**
  - 処理や記述が分かりにくい可能性がある箇所のみ「Why:」で理由を説明
  - 明白な処理には不要なコメントを書かない
  - 設定ファイルの項目説明は残す（何を設定しているかわかるように）

### TypeScript

- **any型の使用禁止**: 型安全性を保つため、any型は使用しない
- 適切な型定義を行い、型推論を活用する

## 開発方針

### TDD (Test-Driven Development)

- t-wadaさんのTDD手法に従う
- Red → Green → Refactorサイクルを厳守
- テストファーストで開発を進める

### アーキテクチャ

- **Clean Architecture + Repository Pattern**（モバイル側）
- **Hexagonal Architecture**（バックエンド側）
- SOLID原則を重視した設計
- 拡張性を考慮（将来的にマップ検索、PFCバランス機能追加の可能性）

### アクセシビリティ

- WCAG AA準拠を目標（最低でもLevel Aは必須）
- スクリーンリーダー対応
- キーボードナビゲーション対応

### UI/UXデザイン

- AppleやNetflixなどの人気アプリのUI/UXを参考
- ユーザビリティを重視
- メンテナンス性の高いUIライブラリを選定

## ツール選定

### リンター/フォーマッター

- **ESLint + Prettier**を使用（Biomeではなく安定性重視）
- React Native特有の設定を適切に行う

### UIライブラリ

- メンテナンス性とシェア率が高いものを選定
- React Native Paperまたは類似の安定したライブラリ

## ドキュメント管理

### README

- 英語版（README.md）をベース
- 日本語版（README.ja.md）も作成

### コミット

- 適切な粒度でコミット
- 日本語でコミットメッセージを記述
- Conventional Commits形式を使用（feat, fix, docs, etc.）
- .claudeディレクトリはコミットに含めない

### 進捗管理

- TODO.mdで進捗を管理
- TodoWriteツールを活用して進捗を追跡

## React Native開発の注意点

### 初心者向け配慮

- React Native/Expo初心者でも理解しやすいコード
- 最新の公式ドキュメントを参照しながら実装
- 必要に応じて処理の理由を説明するコメントを追加

### トラブルシューティング

- **エラーが続いた場合は必ず公式ドキュメントを参照**
  - WebFetchで最新の公式ドキュメントを確認
  - Expo、React Native、関連ライブラリの公式ドキュメントを優先
  - 推測での実装は避ける

### パフォーマンス

- FlashListを使用した高速リスト表示
- 適切なメモ化とレンダリング最適化

## その他の注意事項

- 破壊的な操作を行う前は確認を求める
- セキュリティに関わる情報は絶対にコミットしない
- エラーハンドリングを適切に行う
- オフライン対応を考慮した設計

---

Last Updated: 2025-08-28
